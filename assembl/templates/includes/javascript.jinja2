<script src="{{ STATIC_URL }}js/lib/require.min.js"></script>

<script>
requirejs.config({
    "baseUrl": "{{ STATIC_URL }}js",
    'urlArgs': "bust=" + (new Date()).getTime(),
    'shim': {
        'backbone': {
            deps: ['underscore', 'zepto-touch'],
            exports: 'Backbone'
        },
        'underscore': {
            exports: '_'
        },
        'zepto': {
            exports: 'Zepto'
        },
        'zepto-touch': {
            deps: ['zepto', 'zepto-data'],
            exports: 'Zepto'
        },
        'zepto-data': {
            deps: ['zepto'],
            exports: 'Zepto'
        },
        'zepto-fx': {
            deps: ['zepto'],
            exports: 'Zepto'
        },
        'app': {
            deps: ['ckeditor', 'tipsy', 'i18n'],
            exports: 'app'
        },
        'i18n': {
            exports: 'i18n'
        },
        'jasmine': {
            exports: 'jasmine'
        },
        'jasmine-html': {
            deps: ['jasmine', 'jasmine-jquery'],
            exports: 'jasmine'
        },
        'jasmine-jquery': {
            deps: ['jasmine'],
            exports: 'jasmine'
        },
        'ckeditor': {
            exports: 'CKEDITOR'
        }, 
        'ckeditor-sharedspace': {
            deps: ['ckeditor'],
            exports: 'CKEDITOR'
        },
        'tipsy': {
            deps: ['zepto', 'zepto-touch', 'zepto-data', 'zepto-fx'],
        }
    },
    "paths": {
        'backbone': 'lib/backbone',
        'underscore': 'lib/underscore',
        'i18n': 'lib/i18n',

        'zepto': '__proto__' in {} ? 'lib/zepto' : "lib/jquery",
        'zepto-touch': 'lib/zepto-touch',
        'zepto-data': 'lib/zepto-data',
        'zepto-fx': 'lib/zepto-fx',

        'tipsy': 'lib/jquery.tipsy',

        'jasmine': 'lib/jasmine',
        'jasmine-html': 'lib/jasmine-html',
        'jasmine-jquery': 'lib/jasmine-jquery',

        'ckeditor': 'lib/ckeditor/ckeditor',
        'ckeditor-sharedspace': 'lib/ckeditor/plugins/sharedspace/plugin',

        'moment': 'lib/moment'
    }
});

</script>

<script>
require(['i18n'], function(i18n){
    i18n({
        'ajaxerror-message' : "{{ gettext('Unfortunatelly, something went wrong. Please, reload your browser.') }}",

        'ideaPanel-clearConfirmationMessage' : "{{ gettext('Do you confirm removing all segments ?') }}",
        'ideaPanel-deleteIdeaConfirmMessage' : "{{ gettext('Do you confirm deleting this idea ?') }}",
        'ideaPanel-cantDeleteByChildren' : "{{ gettext('You cannot delete an idea which has children ideas.') }}",
        'ideaPanel-cantDeleteBySegments' : "{{ gettext('You cannot delete an idea which has segments attached.') }}",

        'segmentList-clearConfirmationMessage': "{{ gettext('Do you confirm removing all segments ?') }}",

        'Add the description': "{{ gettext('Add the description') }}",
        'New Idea': "{{ gettext('New Idea') }}",

        'Add a title': "{{ gettext('Add a title') }}",
        'Add an introduction': "{{ gettext('Add an introduction') }}",
        'Add a conclution': "{{ gettext('Add a conclution') }}",

        'Sending...': "{{ gettext('Sending...') }}",
        'Do you want to publish the synthesis?': "{{ gettext('Do you want to publish the synthesis?') }}",
        'Add to clipboard': "{{ gettext('Add to clipboard') }}",

        "Synthesis published!": "{{ gettext('Synthesis published!') }}",
        'You must be logged in to create segments': "{{ gettext('You must be logged in to create segments') }}",
        'react': "{{ gettext('react') }}",
        '[synthesis] {0}': "{{ gettext('[synthesis] {0}') }}"
    });
});
</script>
