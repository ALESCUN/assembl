<script src="{{ STATIC_URL }}js/lib/require/require.min.js"></script>

<script>
requirejs.config({
    "baseUrl": "{{ STATIC_URL }}js",
    'urlArgs': "bust=" + (new Date()).getTime(),
    'shim': {
        'backbone': {
            deps: ['underscore', 'jquery'],
            exports: 'Backbone'
        },
        'underscore': {
            exports: '_'
        },
        'jquery': {
            exports: 'jQuery'
        },
        'jquery-highlight': {
            exports: 'jQuery',
            deps: ['jquery']
        },
        'app': {
            deps: ['ckeditor', 'tipsy', 'i18n', 'annotator', 'jquery-highlight', 'zeroclipboard'],
            exports: 'app'
        },
        'i18n': {
            exports: 'i18n'
        },
        'socket': {
            deps: ['sockjs']
        },
        'jasmine': {
            exports: 'jasmine'
        },
        'jasmine-html': {
            deps: ['jasmine', 'jasmine-jquery'],
            exports: 'jasmine'
        },
        'jasmine-jquery': {
            deps: ['jasmine'],
            exports: 'jasmine'
        },
        'ckeditor': {
            exports: 'CKEDITOR'
        }, 
        'ckeditor-sharedspace': {
            deps: ['ckeditor'],
            exports: 'CKEDITOR'
        },
        'tipsy': {
            deps: ['jquery'],
        },
        'annotator' : {
            deps: ['jquery'],
            exports: 'Annotator'
        },
        'zeroclipboard' : {
            exports: 'ZeroClipboard'
        },
        'sockjs': {
            deps: ['jquery'],
            exports: 'SockJS'
        }
    },
    "paths": {
        'app': 'app/app',
        'i18n': 'app/i18n',
        'router': 'app/router',
        'socket': 'app/socket',
        'types': 'app/types',

        'jquery': "lib/jquery/jquery",
        'tipsy': 'lib/jquery/jquery.tipsy',
        'jquery-highlight': 'lib/jquery/jquery.highlight',

        'backbone': 'lib/backbone/backbone',
        'underscore': 'lib/underscore/underscore',

        'annotator': 'lib/annotator/annotator-full.min',

        'jasmine': 'lib/jasmine/jasmine',
        'jasmine-html': 'lib/jasmine/jasmine-html',
        'jasmine-jquery': 'lib/jasmine/jasmine-jquery',

        'ckeditor': 'lib/ckeditor/ckeditor',
        'ckeditor-sharedspace': 'lib/ckeditor/plugins/sharedspace/plugin',

        'moment': 'lib/moment/moment',
        'zeroclipboard': 'lib/zeroclipboard/ZeroClipboard',
        'sockjs': 'lib/sockjs/sockjs'
    }
});

</script>

<script>
require(['i18n'], function(i18n){
    i18n({
        'ajaxerror-message' : "{{ gettext('Unfortunatelly, something went wrong. Please, reload your browser.') }}",

        'ideaPanel-clearConfirmationMessage' : "{{ gettext('Do you confirm removing all segments ?') }}",
        'ideaPanel-deleteIdeaConfirmMessage' : "{{ gettext('Do you confirm deleting this idea ?') }}",
        'ideaPanel-cantDeleteByChildren' : "{{ gettext('You cannot delete an idea which has children ideas.') }}",
        'ideaPanel-cantDeleteBySegments' : "{{ gettext('You cannot delete an idea which has segments attached.') }}",

        'segmentList-clearConfirmationMessage': "{{ gettext('Do you confirm removing all segments ?') }}",

        'Add the description': "{{ gettext('Add the description') }}",
        'New Idea': "{{ gettext('New Idea') }}",

        'Add a title': "{{ gettext('Add a title') }}",
        'Add an introduction': "{{ gettext('Add an introduction') }}",
        'Add a conclution': "{{ gettext('Add a conclution') }}",

        'Sending...': "{{ gettext('Sending...') }}",
        'Do you want to publish the synthesis?': "{{ gettext('Do you want to publish the synthesis?') }}",
        'Add to clipboard': "{{ gettext('Add to clipboard') }}",

        "Synthesis published!": "{{ gettext('Synthesis published!') }}",
        'You must be logged in to create segments': "{{ gettext('You must be logged in to create segments') }}",
        'react': "{{ gettext('react') }}",
        '[synthesis] {0}': "{{ gettext('[synthesis] {0}') }}"
    });
});
</script>
