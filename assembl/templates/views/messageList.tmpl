<header class="panel-header">
    <span class="text-bold">{{ gettext('Messages') }}</span>

    <div class="fr">
        <% if (currentViewStyle.id === 'threaded') { %>
            <a data-toggle="tooltip" title="<%= collapsed ? '{{gettext('Expand all')}}' : '{{gettext('Collapse all')}}' %>" class="js_messageList-collapseButton iconbutton <%= collapsed ? 'icon-download-1' : 'icon-upload' %>"></a>
        <% } %>
        <a class="js_messageList-fullScreenButton iconbutton iconbutton--resizefull" data-tooltip="{{ gettext('Fullsize') }}"></a>
        <% if( !Ctx.displayCallToAction() ){ %>
        <a class="js_messageList-closeButton iconbutton icon-delete" data-tooltip="{{gettext('Close panel')}}"></a>
        <% } %>
    </div>
</header>

<div class="panel-body">
    
  <% if (Ctx.getCurrentInterfaceType() === Ctx.InterfaceTypes.SIMPLE) { %>
    <% if (!Ctx.getCurrentUser().isUnknownUser()) { %>
      <div class="options-filter">
        <span class="js_messageList-view-threaded option js_filterAll dispb fl tac pts">All</span>
        <span class="js_messageList-view-newmessages option dispb fl tac pts">Not read</span>
      </div>
    <% } %>
  <% } else { %>
    <div class="view-config pls">
        <div class="js_messageListViewStyle-dropdown dropdown"></div>

        <div class="js_defaultMessageView-dropdown dropdown"></div>

        <div class="dropdown">

            <span class="dropdown-label">
                {{ gettext('Add filter') }}
            </span><i class="icon-arrowdown"></i>
            <ul class="dropdown-list">
                {# A "Clear filters" button is now displayed when at least one filter is active
                <li class="js_messageList-allmessages dropdown-listitem">{{ gettext('All messages') }}</li>
                #}
                <li class="js_messageList-onlyorphan dropdown-listitem">{{ gettext('Orphan messages') }}</li>
                <li class="js_messageList-onlysynthesis dropdown-listitem">{{ gettext('Synthesis messages') }}</li>
                <li class="js_messageList-isunread dropdown-listitem">{{ gettext('Unread messages') }}</li>
                {#
                <li class="dropdown-listitem">{{ gettext('Uncaught') }}</li>
                <li class="dropdown-listitem">{{ gettext('Followed') }}</li>
                #}
            </ul>
        </div>
    </div>
  <% } %>
    {#
    <div class="inline text-muted margin-left">
        {% set total = '<%= total %>' %}
        {{ gettext('%(total)s messages')|format(total=total)|safe }}
    </div>
    #}

    <div class="messageList-query-info"></div>
    <div class="js_messageList-toparea messageList-toparea margin text-center hidden">
        <a class="js_messageList-prevbutton button">{{ gettext('Load previous messages') }}</a>
    </div>

    <div class="messageList-list idealist <%= currentViewStyle.id %>"></div>

    <div class="messageList-bottomarea margin text-center hidden">
        <a class="js_messageList-morebutton button">{{ gettext('Load next messages') }}</a>
    </div>

    <% if (canPost) { %>
        <div class="messagelist-replybox"></div>
    <% } %>

</div>

{#
<footer class="panel-footer"></footer>
#}
