{% extends 'base.jinja2' %}

{% block content %}
<div class="loginbox register">
    <header>
        <p class="login-box-title">{{ gettext('join assembl') }}</p>
    </header>

    {% if error %}
    <div class="error">{{error}}</div>
    {% endif %}

    <form class="form" method="POST">
        <input type="hidden" name="next_view" value="{{next_view}}" />
        <input type="text" name="name" class="defaultfield" placeholder="{{ gettext('Name') }}" autofocus required />
        <input type="text" name="email" class="defaultfield" placeholder="{{ gettext('email') }}" required />
        <input type="password" name="password" class="defaultfield" placeholder="{{ gettext('Password') }}" required />
        <input type="password" name="password2" class="defaultfield" placeholder="{{ gettext('Repeat password') }}" required />
        <input type="submit" name="register" value="{{ gettext('Register') }}" class="btn-pink" />
        <span>{{gettext("or")}} <a href="/login?next_view={{next_view}}">{{gettext("login")}}</a></span>
    </form>

    <footer>
        {% set caravan = "<a href='http://caravan.coop' class='link caravan'>"+gettext("Caravan")+"</a>" %}
        {% set imaginationForPeople = "<a href='http://imaginationforpeople.org/' class='link i4p'>"+gettext("Imagination for people") +"</a>" %}
        <p>{{ gettext("Designed by %(caravan)s and %(imaginationForPeople)s")|format(caravan=caravan, imaginationForPeople=imaginationForPeople)|safe }}</p>
    </footer>
</div>
{% endblock %}

{% block extra_js %}
<script type="text/javascript">requirejs(["main"]);</script>
{% endblock %}
